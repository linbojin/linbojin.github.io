<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Reading Spark Souce Code in IntelliJ IDEA | AILab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="It’s a good choice to read spark souce code in IntelliJ IDEA. This tutorial introduces how to do it.
Get spark repository
Fork apache spark project to your Github account
Clone spark to local:
12$ git">
<meta property="og:type" content="article">
<meta property="og:title" content="Reading Spark Souce Code in IntelliJ IDEA">
<meta property="og:url" content="https://linbojin.github.io/2016/01/09/Reading-Spark-Souce-Code-in-IntelliJ-IDEA/index.html">
<meta property="og:site_name" content="AILab">
<meta property="og:description" content="It’s a good choice to read spark souce code in IntelliJ IDEA. This tutorial introduces how to do it.
Get spark repository
Fork apache spark project to your Github account
Clone spark to local:
12$ git">
<meta property="og:updated_time" content="2016-01-09T12:55:55.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Reading Spark Souce Code in IntelliJ IDEA">
<meta name="twitter:description" content="It’s a good choice to read spark souce code in IntelliJ IDEA. This tutorial introduces how to do it.
Get spark repository
Fork apache spark project to your Github account
Clone spark to local:
12$ git">
  
    <link rel="alternate" href="/atom.xml" title="AILab" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">AILab</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://linbojin.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Reading-Spark-Souce-Code-in-IntelliJ-IDEA" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/01/09/Reading-Spark-Souce-Code-in-IntelliJ-IDEA/" class="article-date">
  <time datetime="2016-01-09T11:20:43.000Z" itemprop="datePublished">2016-01-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Reading Spark Souce Code in IntelliJ IDEA
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>It’s a good choice to read spark souce code in IntelliJ IDEA. This tutorial introduces how to do it.</p>
<h3 id="Get_spark_repository"><a href="#Get_spark_repository" class="headerlink" title="Get spark repository"></a>Get spark repository</h3><ol>
<li>Fork <a href="https://github.com/apache/spark" target="_blank" rel="external">apache spark</a> project to your Github account</li>
<li><p>Clone spark to local:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> git@github.com:username/spark.git</span><br><span class="line">$ <span class="built_in">cd</span> spark/</span><br></pre></td></tr></table></figure>
</li>
<li><p>Add apache spark remote (to keep up-to-date with apache spark repo):</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add apache https://github.com/apache/spark.git</span><br><span class="line"><span class="comment"># check remote accounts</span></span><br><span class="line">$ git remote -v</span><br></pre></td></tr></table></figure>
</li>
<li><p>Sync repo with apache spark:</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Fetch the branches and their respective commits from the apache repo</span></span><br><span class="line">$ git fetch apache</span><br><span class="line"><span class="comment"># Update codes</span></span><br><span class="line">$ git pull apache master</span><br></pre></td></tr></table></figure>
</li>
<li><p>Push new updates to your own github account repo:</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin master</span><br></pre></td></tr></table></figure>
</li>
<li><p>Create new develop branch for developing: </p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b develop</span><br></pre></td></tr></table></figure>
</li>
<li><p>Push develop branch to your github repo: </p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push -u origin develop</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="Built_spark_in_Intelij_IDEA_15"><a href="#Built_spark_in_Intelij_IDEA_15" class="headerlink" title="Built spark in Intelij IDEA 15"></a>Built spark in Intelij IDEA 15</h3><ol>
<li>Install <a href="https://www.jetbrains.com/idea/download/" target="_blank" rel="external">IntelliJ IDEA 15</a> as well as <a href="https://plugins.jetbrains.com/plugin/?id=1347" target="_blank" rel="external">IDEA Scala Plugin</a></li>
<li><p>Make sure your are in your own develop branch:</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout develop</span><br></pre></td></tr></table></figure>
</li>
<li><p>Open spark project in IDEA (directly open <strong>pom.xml</strong> file)<br>Menu -&gt; File -&gt; <strong>Open</strong> -&gt; {spark}/<strong>pom.xml</strong> </p>
</li>
<li><p>Modify <code>java.version</code> to your java version inside <strong>pom.xml</strong></p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pom.xml</span></span><br><span class="line">&lt;java.version&gt;<span class="number">1.8</span>&lt;/java.version&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Build spark by sbt</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ build/sbt assembly</span><br></pre></td></tr></table></figure>
</li>
<li><p>Validating spark is built successfully</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./bin/spark-shell</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="Reading_spark_codes"><a href="#Reading_spark_codes" class="headerlink" title="Reading spark codes"></a>Reading spark codes</h3><p>It’s better to read or change codes on your develop branch and sync with apache spark repo inside master branch. So normally, you can update your develop branch by following commands:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">$ git pull apache master</span><br><span class="line">$ git checkout develop</span><br><span class="line">$ git merge master</span><br></pre></td></tr></table></figure>
<p>Useful IDEA Shortcuts:</p>
<pre><code>command + o : search classes
command + b : go to implementation
command + [ : go back to the previous location
</code></pre><p>Several important classes:</p>
<pre><code>SparkContext.scala 
DAGScheduler.scala
TaskSchedulerImpl.scala
BlockManager.scala
</code></pre><hr>
<p>Ref: Building Spark: <a href="http://spark.apache.org/docs/latest/building-spark.html" target="_blank" rel="external">http://spark.apache.org/docs/latest/building-spark.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://linbojin.github.io/2016/01/09/Reading-Spark-Souce-Code-in-IntelliJ-IDEA/" data-id="cij73aqyw0008lcdu2wso11rp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spark/">spark</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2016/01/09/Build-blog-by-Hexo-and-MWeb/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Build blog with Hexo and MWeb</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/spark/">spark</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tools/">tools</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/spark/" style="font-size: 20px;">spark</a> <a href="/tags/tools/" style="font-size: 10px;">tools</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/01/09/Reading-Spark-Souce-Code-in-IntelliJ-IDEA/">Reading Spark Souce Code in IntelliJ IDEA</a>
          </li>
        
          <li>
            <a href="/2016/01/09/Build-blog-by-Hexo-and-MWeb/">Build blog with Hexo and MWeb</a>
          </li>
        
          <li>
            <a href="/2016/01/09/Spark-Introduction-part-1-Coding/">Spark Introduction part 1 Coding</a>
          </li>
        
          <li>
            <a href="/2016/01/09/Spark-Introduction-part-1/">Spark Introduction part 1</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Linbo.me<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>